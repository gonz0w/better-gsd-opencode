# Milestone v3.0: Intent Engineering

**Status:** SHIPPED 2026-02-25
**Phases:** 14-17
**Total Plans:** 10
**Commits:** 43 | **Lines:** +10,142 / -400
**Tests:** 348 passing (0 failures)
**Bundle:** 447KB / 450KB budget
**Timeline:** 2026-02-24 to 2026-02-25

## Overview

Make intent the architectural backbone of GSD — every project captures *why* it exists and *what success looks like*, and every downstream workflow (research, planning, execution, verification) validates alignment against that intent.

## Phases

### Phase 14: Intent Capture Foundation

**Goal**: Users can create, read, and update a structured INTENT.md that captures why a project exists and what success looks like
**Depends on**: Nothing (v3.0 foundation)
**Requirements**: ICAP-01, ICAP-02, ICAP-03, ICAP-04
**Plans**: 3/3 plans complete

Plans:
- [x] 14-01: Template reference doc + intent parser (parseIntentMd/generateIntentMd) + create command
- [x] 14-02: Show/read + update commands with ID management and priority-sorted outcomes
- [x] 14-03: Validate command + help entries for all 5 intent subcommands + 19 integration tests

**Details:**
- INTENT.md template with structured sections: objective, desired outcomes, health metrics, target users, constraints, success criteria
- parseIntentMd() and generateIntentMd() for round-trip markdown parsing
- intent create with --force flag, intent read as JSON alias for show --raw
- Granular update: add/remove/set-priority operations per section, ID gap preservation
- Structural validation with exit codes for CI integration

### Phase 15: Intent Tracing & Validation

**Goal**: Plugin traces every plan's objective back to INTENT.md desired outcomes and detects when work drifts from stated intent
**Depends on**: Phase 14
**Requirements**: ITRC-01, ITRC-02, ITRC-03, IVAL-01, IVAL-02, IVAL-03, IVAL-04, IVAL-05
**Plans**: 2/2 plans complete

Plans:
- [x] 15-01: Intent tracing infrastructure — parsePlanIntent() helper + cmdIntentTrace() with traceability matrix and gap detection
- [x] 15-02: Intent drift validation — 4 drift signals + weighted 0-100 score + advisory pre-flight in execute-phase

**Details:**
- Plan intent stored in YAML frontmatter under intent.outcome_ids (not separate file)
- Trace scoped to current milestone's phase range via getMilestoneInfo()
- 4 drift signals: coverage gap, objective mismatch, feature creep, priority inversion
- getIntentDriftData() shared between drift command and init pre-flight (no shelling out)
- Advisory-only: never blocks, null when no INTENT.md, try/catch wrapped

### Phase 16: Workflow Integration & Self-Application

**Goal**: All GSD workflows see intent context automatically, and GSD's own development uses the intent system
**Depends on**: Phase 14, Phase 15
**Requirements**: WINT-01, WINT-02, WINT-03, WINT-04, SELF-01
**Plans**: 3/3 plans complete

Plans:
- [x] 16-01: getIntentSummary() + intent_summary in init progress, execute-phase, and plan-phase + 5 integration tests
- [x] 16-02: Self-application — create GSD's own .planning/INTENT.md with real plugin intent
- [x] 16-03: Workflow intent injection — research, plan, verify-work, verify-phase all receive intent context

**Details:**
- getIntentSummary() follows advisory try/catch pattern — null on missing INTENT.md, never crashes
- All workflow injections conditional — projects without INTENT.md see zero changes
- Intent-based verification is additive (merges with existing truth sources, never replaces)
- GSD dog-fooding: plugin's own INTENT.md captures its purpose and guides its own development

### Phase 17: Intent Enhancement

**Goal**: New projects start with a structured intent conversation, and intent changes are tracked with reasoning across milestones
**Depends on**: Phase 14, Phase 16
**Requirements**: ICAP-05, ICAP-06
**Plans**: 2/2 plans complete

Plans:
- [x] 17-01: Intent evolution tracking — history parsing/generation, auto-logging on update, --reason flag, evolution summary in show
- [x] 17-02: Guided intent questionnaire in new-project (Step 4.5) and new-milestone workflows + intent-seeded requirements

**Details:**
- History entries grouped by milestone+date, newest first
- Auto-logging snapshots before state, diffs after, appends to history
- Advisory-only history validation: warnings don't fail validate
- Step 4.5 placement: after PROJECT.md but before requirements — intent guides requirements
- new-milestone references new-project Step 4.5 for fresh intent creation (DRY)

## Key Decisions

- Intent Engineering as dedicated architectural layer (INTENT.md + per-phase tracing + validation)
- Advisory validation model — flag drift, don't hard-block workflows
- Cascading intent — project-level INTENT.md + per-phase intent sections in PLANs
- HTML comments as section instructions in generated INTENT.md (no pre-filled examples)
- Plan intent stored in YAML frontmatter under intent.outcome_ids
- getIntentDriftData() as shared function (no shelling out between commands)
- All intent workflow injections conditional — zero impact on projects without INTENT.md
- Intent-based verification additive (Option D) — merges, never replaces
- Step 4.5 placement for intent questionnaire: after PROJECT.md, before requirements
- Bundle budget raised 400 → 450KB for intent command family

---

_For current project status, see .planning/ROADMAP.md_
