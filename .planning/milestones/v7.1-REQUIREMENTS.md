# Requirements Archive: bGSD Plugin v7.1 Trajectory Engineering

**Defined:** 2026-02-28
**Completed:** 2026-03-02
**Status:** ✅ All requirements validated

## v7.1 Requirements (22/22 Complete)

### Foundation

- [x] **FOUND-01**: Decision journal store exists as `trajectories` sacred memory store in memory.js — ✓ v7.1
- [x] **FOUND-02**: Journal entries persist across sessions and are never auto-compacted — ✓ v7.1

### Checkpoint

- [x] **CHKPT-01**: User can create a named checkpoint that snapshots current git state with semantic name and optional context description — ✓ v7.1
- [x] **CHKPT-02**: User can list all checkpoints with metadata (name, scope, timestamp, git ref, metrics summary) — ✓ v7.1
- [x] **CHKPT-03**: Checkpoint auto-collects metrics at creation time (test count, complexity, LOC delta) — ✓ v7.1
- [x] **CHKPT-04**: Checkpoint branches follow predictable naming convention `trajectory/<scope>/<name>/attempt-N` — ✓ v7.1

### Pivot

- [x] **PIVOT-01**: User can rewind code to a named checkpoint via selective git checkout that preserves `.planning/` directory — ✓ v7.1
- [x] **PIVOT-02**: Pivot requires and records a structured reason (what failed, why, what signals indicated failure) — ✓ v7.1
- [x] **PIVOT-03**: Current state is auto-checkpointed as "abandoned" before rewind to preserve work — ✓ v7.1
- [x] **PIVOT-04**: Stuck-detector suggests pivot to last checkpoint when stuck detection fires — ✓ v7.1

### Compare

- [x] **COMP-01**: User can compare test results (pass/fail/skip) across all attempts for a given scope — ✓ v7.1
- [x] **COMP-02**: User can compare LOC delta (lines added/removed) across attempts — ✓ v7.1
- [x] **COMP-03**: User can compare cyclomatic complexity across attempts via ast.js — ✓ v7.1
- [x] **COMP-04**: Compare produces an aggregated multi-dimension matrix identifying best attempt per metric — ✓ v7.1
- [x] **COMP-05**: Compare output renders as color-coded TTY table (green=best, red=worst) with JSON fallback — ✓ v7.1

### Choose

- [x] **CHOOSE-01**: User can merge a winning attempt branch back to the base branch — ✓ v7.1
- [x] **CHOOSE-02**: Non-chosen attempts are tagged as `archived/trajectory/<scope>/<name>/attempt-N` — ✓ v7.1
- [x] **CHOOSE-03**: Trajectory branches are cleaned up after archival (tags preserved for reference) — ✓ v7.1

### Integration

- [x] **INTEG-01**: Dead-end detection queries journal for similar past approaches before new work begins — ✓ v7.1
- [x] **INTEG-02**: Init execute-phase and execute-plan commands include "previous attempts" section from trajectory journal — ✓ v7.1
- [x] **INTEG-03**: Failed attempt lessons are carried forward as "what NOT to do" context in subsequent attempts — ✓ v7.1
- [x] **INTEG-04**: Trajectory commands work at task, plan, and phase levels with scope parameter — ✓ v7.1

## Out of Scope

| Feature | Reason |
|---------|--------|
| Worktree per attempt | Disk-expensive (~2-4GB each), sequential exploration on main worktree is sufficient |
| Automatic pivot without human signal | Human-in-the-loop is a core GSD principle — suggest, don't act |
| Code-level diff viewer | `git diff` already exists; provide metrics comparison instead |
| Undo/redo stack | Git is already an undo system; checkpoints + branches are the mechanism |
| Automatic "best approach" selection | Metrics inform but don't decide — context matters beyond numbers |
| Database for trajectory storage | SQLite explicitly out of scope; JSON sacred store is sufficient volume |
| Cross-repository trajectory sharing | Trajectories are project-specific |
| Trajectory playback/replay | Record decisions and signals, not actions — actions are fragile |
| Parallel attempt exploration | Would require worktree + orchestrator changes far beyond scope |

## Traceability

| Requirement | Phase | Status | Validated |
|-------------|-------|--------|-----------|
| FOUND-01 | Phase 45 | ✅ Complete | v7.1 |
| FOUND-02 | Phase 45 | ✅ Complete | v7.1 |
| CHKPT-01 | Phase 46 | ✅ Complete | v7.1 |
| CHKPT-02 | Phase 46 | ✅ Complete | v7.1 |
| CHKPT-03 | Phase 46 | ✅ Complete | v7.1 |
| CHKPT-04 | Phase 46 | ✅ Complete | v7.1 |
| PIVOT-01 | Phase 47 | ✅ Complete | v7.1 |
| PIVOT-02 | Phase 47 | ✅ Complete | v7.1 |
| PIVOT-03 | Phase 47 | ✅ Complete | v7.1 |
| PIVOT-04 | Phase 47 | ✅ Complete | v7.1 |
| COMP-01 | Phase 48 | ✅ Complete | v7.1 |
| COMP-02 | Phase 48 | ✅ Complete | v7.1 |
| COMP-03 | Phase 48 | ✅ Complete | v7.1 |
| COMP-04 | Phase 48 | ✅ Complete | v7.1 |
| COMP-05 | Phase 48 | ✅ Complete | v7.1 |
| CHOOSE-01 | Phase 49 | ✅ Complete | v7.1 |
| CHOOSE-02 | Phase 49 | ✅ Complete | v7.1 |
| CHOOSE-03 | Phase 49 | ✅ Complete | v7.1 |
| INTEG-01 | Phase 50 | ✅ Complete | v7.1 |
| INTEG-02 | Phase 50 | ✅ Complete | v7.1 |
| INTEG-03 | Phase 50 | ✅ Complete | v7.1 |
| INTEG-04 | Phase 50 | ✅ Complete | v7.1 |

**Coverage:** 22/22 requirements validated (100%)

---
*Archived: 2026-03-02*
